# 📦 Release 发布指南

## 🚀 自动发布方式

现在你可以通过**提交消息**自动触发 Release，无需手动创建 Git 标签！

### 使用方法

在 VSCode 中提交代码时，只需在提交消息中包含版本号即可：

#### ✅ 正确的提交消息格式：

```
v1.0.0
```

```
Release v1.0.0
```

```
发布新版本 v2.1.3
```

```
更新功能 1.5.0
```

```
修复bug v1.0.1
```

### 📝 操作步骤

1. **在 VSCode 中编辑代码**
   
2. **打开源代码管理面板** (Ctrl+Shift+G)

3. **暂存更改** (点击 + 号)

4. **在提交消息框中输入包含版本号的消息**
   ```
   Release v1.0.0
   ```

5. **点击提交** (✓ 图标)

6. **点击同步更改** (或推送)

7. **完成！** 🎉
   - GitHub Actions 会自动检测到版本号
   - 自动创建 Git 标签（如 v1.0.0）
   - 自动编译 Linux 和 Windows 版本
   - 自动创建 GitHub Release
   - 自动上传二进制文件和配置文件

### 🔍 版本号格式支持

支持以下版本号格式：

- `v1.0.0` ✅（推荐）
- `1.0.0` ✅（会自动添加 v 前缀）
- `v2.1.3` ✅
- `v1.0.0-beta` ✅
- `v1.0.0-rc.1` ✅

### ⚠️ 注意事项

1. **只在 main 或 master 分支生效**
   - 其他分支推送不会触发 Release

2. **版本号必须遵循语义化版本**
   - 格式：主版本号.次版本号.修订号
   - 例如：1.0.0, 2.1.3, 3.0.0

3. **避免重复版本号**
   - 如果标签已存在，会跳过创建

### 📊 查看发布状态

推送后，可以查看：

1. **Actions 页面**
   ```
   https://github.com/55gY/tdl-msgproce/actions
   ```
   查看 "Build and Release" 工作流状态

2. **Releases 页面**
   ```
   https://github.com/55gY/tdl-msgproce/releases
   ```
   查看已发布的版本

### 🎯 示例流程

```
提交消息: "Release v1.0.0"
    ↓
推送到 GitHub
    ↓
GitHub Actions 检测到 v1.0.0
    ↓
自动创建标签 v1.0.0
    ↓
编译 Linux/Windows 二进制文件
    ↓
创建 GitHub Release
    ↓
上传文件到 Release
    ↓
完成！ 🎉
```

### 💡 提示

- **不想触发 Release？** 提交消息中不要包含版本号格式即可
- **只想测试编译？** 普通推送会触发 "Build Test" 工作流
- **手动创建标签？** 传统方式依然有效：`git tag v1.0.0 && git push --tags`

### 🐛 故障排查

如果 Release 没有触发，检查：

1. ✅ 提交消息是否包含版本号（如 v1.0.0）
2. ✅ 是否推送到 main 或 master 分支
3. ✅ 版本号格式是否正确（x.x.x）
4. ✅ GitHub Actions 是否启用
5. ✅ 查看 Actions 页面的错误日志

### 📞 需要帮助？

查看项目的 Issues 页面或联系维护者。
