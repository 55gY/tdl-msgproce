# GitHub Actions å‘å¸ƒæµç¨‹

## ğŸš€ å¦‚ä½•å‘å¸ƒæ–°ç‰ˆæœ¬

### 1. ç¡®ä¿ä»£ç å·²æäº¤
```bash
git add .
git commit -m "feat: æ–°åŠŸèƒ½æè¿°"
git push origin main
```

### 2. åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
```bash
# åˆ›å»ºæ ‡ç­¾ï¼ˆæ ¼å¼ï¼švä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬ï¼‰
git tag -a v1.0.0 -m "Release v1.0.0"

# æ¨é€æ ‡ç­¾åˆ° GitHub
git push origin v1.0.0
```

### 3. è‡ªåŠ¨æ„å»º
- GitHub Actions ä¼šè‡ªåŠ¨æ£€æµ‹åˆ° `v*.*.*` æ ¼å¼çš„æ ‡ç­¾
- è‡ªåŠ¨ç¼–è¯‘ Linux å’Œ Windows ç‰ˆæœ¬
- è‡ªåŠ¨åˆ›å»º Release å¹¶ä¸Šä¼ æ–‡ä»¶

## ğŸ“¦ å‘å¸ƒçš„æ–‡ä»¶

æ¯æ¬¡å‘å¸ƒä¼šè‡ªåŠ¨ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

- `tdl-msgproce_linux_amd64` - Linux 64ä½å¯æ‰§è¡Œæ–‡ä»¶
- `tdl-msgproce_windows_amd64.exe` - Windows 64ä½å¯æ‰§è¡Œæ–‡ä»¶
- `checksums.txt` - SHA256 æ ¡éªŒå’Œ
- `config.yaml` - é…ç½®æ–‡ä»¶æ¨¡æ¿
- `install.sh` - Linux å®‰è£…è„šæœ¬

## ğŸ·ï¸ ç‰ˆæœ¬å·è§„èŒƒ

é‡‡ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·ï¼ˆSemantic Versioningï¼‰ï¼š

- **ä¸»ç‰ˆæœ¬å·(Major)**: ä¸å…¼å®¹çš„ API ä¿®æ”¹
- **æ¬¡ç‰ˆæœ¬å·(Minor)**: å‘ä¸‹å…¼å®¹çš„åŠŸèƒ½æ€§æ–°å¢
- **ä¿®è®¢å·(Patch)**: å‘ä¸‹å…¼å®¹çš„é—®é¢˜ä¿®æ­£

ç¤ºä¾‹ï¼š
```bash
git tag v1.0.0   # é¦–æ¬¡å‘å¸ƒ
git tag v1.1.0   # æ–°å¢åŠŸèƒ½
git tag v1.1.1   # Bug ä¿®å¤
git tag v2.0.0   # é‡å¤§æ›´æ–°
```

## ğŸ”„ æ›´æ–°å‘å¸ƒ

å¦‚æœéœ€è¦æ›´æ–°æŸä¸ªç‰ˆæœ¬ï¼š

```bash
# åˆ é™¤æœ¬åœ°æ ‡ç­¾
git tag -d v1.0.0

# åˆ é™¤è¿œç¨‹æ ‡ç­¾
git push origin :refs/tags/v1.0.0

# é‡æ–°åˆ›å»ºæ ‡ç­¾
git tag -a v1.0.0 -m "Release v1.0.0 (updated)"
git push origin v1.0.0
```

## ğŸ› ï¸ æœ¬åœ°æµ‹è¯•æ„å»º

åœ¨æäº¤å‰å¯ä»¥æœ¬åœ°æµ‹è¯•ç¼–è¯‘ï¼š

```bash
# Windows
go build -ldflags="-s -w" -o tdl-msgproce.exe

# Linux (åœ¨ Windows ä¸Šäº¤å‰ç¼–è¯‘)
$env:GOOS="linux"
$env:GOARCH="amd64"
go build -ldflags="-s -w" -o tdl-msgproce
```

## ğŸ“ Release Notes æ¨¡æ¿

åˆ›å»ºæ ‡ç­¾æ—¶å¯ä»¥ä½¿ç”¨è¯¦ç»†çš„è¯´æ˜ï¼š

```bash
git tag -a v1.2.0 -m "Release v1.2.0

æ–°åŠŸèƒ½ï¼š
- æ·»åŠ æ‰¹é‡ä»»åŠ¡ç®¡ç†
- æ”¯æŒå®æ—¶è¿›åº¦æ˜¾ç¤º
- æ–°å¢äºŒç»´ç ç™»å½•

ä¿®å¤ï¼š
- ä¿®å¤è¿›åº¦æ˜¾ç¤ºé‡å¤é—®é¢˜
- ä¼˜åŒ–å†…å­˜ä½¿ç”¨

æ”¹è¿›ï¼š
- ç®€åŒ–é…ç½®æ–‡ä»¶ç»“æ„
- æ›´æ–°å®‰è£…è„šæœ¬"
```

## ğŸ” æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾

```bash
# æŸ¥çœ‹æœ¬åœ°æ ‡ç­¾
git tag

# æŸ¥çœ‹è¿œç¨‹æ ‡ç­¾
git ls-remote --tags origin

# æŸ¥çœ‹æ ‡ç­¾è¯¦ç»†ä¿¡æ¯
git show v1.0.0
```

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **æ ‡ç­¾æ ¼å¼å¿…é¡»æ˜¯ `v*.*.*`** - å¦‚ v1.0.0, v2.1.3
2. **æ¨é€æ ‡ç­¾åæ— æ³•ä¿®æ”¹ Release** - é™¤éåˆ é™¤åé‡æ–°åˆ›å»º
3. **ç¡®ä¿ go.mod å’Œä¾èµ–éƒ½å·²æäº¤** - å¦åˆ™æ„å»ºä¼šå¤±è´¥
4. **GitHub Token æƒé™** - ç¡®ä¿ä»“åº“æœ‰ `contents: write` æƒé™

## ğŸ› æ’æŸ¥æ„å»ºå¤±è´¥

å¦‚æœ GitHub Actions æ„å»ºå¤±è´¥ï¼š

1. æŸ¥çœ‹ Actions é¡µé¢çš„æ—¥å¿—
2. æ£€æŸ¥ Go ç‰ˆæœ¬æ˜¯å¦å…¼å®¹ï¼ˆè¦æ±‚ >= 1.21ï¼‰
3. ç¡®è®¤æ‰€æœ‰ä¾èµ–éƒ½åœ¨ go.mod ä¸­
4. æœ¬åœ°æµ‹è¯•ç¼–è¯‘æ˜¯å¦æˆåŠŸ

## ğŸ“Š æŸ¥çœ‹å‘å¸ƒçŠ¶æ€

è®¿é—®ä»“åº“çš„ä»¥ä¸‹é¡µé¢ï¼š
- **Actions**: `https://github.com/ä½ çš„ç”¨æˆ·å/tdl-msgproce/actions`
- **Releases**: `https://github.com/ä½ çš„ç”¨æˆ·å/tdl-msgproce/releases`
